<!DOCTYPE html>
<html lang="ko">
@@include("@@autopath/inculde/header-1.html")
  <title>Scrich 2.0 | 회원</title>
@@include("@@autopath/inculde/header-2.html")

  <!-- ========== CONTENTS ========== -->
  <main id="content" role="main" class="main">
    <!-- Content -->
    <div class="content container-fluid">
      <!-- Page Header -->
      <div class="page-header">
        <div class="row align-items-end">
          <div class="col-sm mb-2 mb-sm-0">
            <h1 class="page-title"></h1>
          </div>
        </div>
        <!-- End Row -->
      </div>
      <!-- End Page Header -->

      <!-- Card Section -->
      <div id="cardSection" class="row gx-2 gx-lg-3">

        <!-- Card: Burnout Point -->
        <div class="col-sm-6 col-lg-4 mb-3 mb-lg-5">
          <!-- Card -->
          <div class="card card-sm card-hover-shadow h-100">
            <div class="card-body">
              <div class="d-flex align-items-center">
                <i class="tio-dollar-outlined tio-xl text-body mr-2"></i>
                <div class="">
                  <h5 class="card-title text-truncate mr-2">포인트</h5>
                  <p class="card-title text-truncate mr-2"><span id="point1" dataTag="number"></span>/<span id="point2" dataTag="number"></span></p>
                </div>
              </div>
            </div>
            <a class="stretched-link"></a>
          </div>
          <!-- End Card -->
        </div>
        <!-- End Card: Burnout Point -->

        <!-- Card: Burnout Point -->
        <div class="col-sm-6 col-lg-4 mb-3 mb-lg-5">
          <!-- Card -->
          <div class="card card-sm card-hover-shadow h-100">
            <div class="card-body">
              <div class="d-flex align-items-center">
                  <i class="tio-shopping-icon tio-xl text-body mr-2"></i>
                <div class="">
                  <h5 class="card-title text-truncate mr-2">리치쇼핑</h5>
                  <p class="card-title text-truncate mr-2"><span id="shopping1" dataTag="number"></span>/<span id="shopping2" dataTag="number"></span></p>
                </div>
              </div>
            </div>
            <a class="stretched-link"></a>
          </div>
          <!-- End Card -->
        </div>
        <!-- End Card: Burnout Point -->

        <!-- Card: Burnout Point -->
        <div class="col-sm-6 col-lg-4 mb-3 mb-lg-5">
          <!-- Card -->
          <div class="card card-sm card-hover-shadow h-100">
            <div class="card-body">
              <div class="d-flex align-items-center">
                <i class="tio-notice-outlined tio-xl text-body mr-2"></i>
                <div class="">
                  <h5 class="card-title text-truncate mr-2">캠페인</h5>
                  <p class="card-title text-truncate mr-2"><span id="campaign1" dataTag="number"></span>/<span id="campaign2" dataTag="number"></span></p>
                </div>
              </div>
            </div>
            <a class="stretched-link"></a>
          </div>
          <!-- End Card -->
        </div>
        <!-- End Card: Burnout Point -->

        <!-- Card: Burnout Point -->
        <div class="col-sm-6 col-lg-4 mb-3 mb-lg-5">
          <!-- Card -->
          <div class="card card-sm card-hover-shadow h-100">
            <div class="card-body">
              <div class="d-flex align-items-center">
                <i class="tio-cube tio-xl text-body mr-2"></i>
                <div class="">
                  <h5 class="card-title text-truncate mr-2">보유상품</h5>
                  <p class="card-title text-truncate mr-2"><span id="product1" dataTag="number"></span>/<span id="product2" dataTag="number"></span></p>
                </div>
              </div>
            </div>
            <a class="stretched-link"></a>
          </div>
          <!-- End Card -->
        </div>
        <!-- End Card: Burnout Point -->

        <!-- Card: Burnout Point -->
        <div class="col-sm-6 col-lg-4 mb-3 mb-lg-5">
          <!-- Card -->
          <div class="card card-sm card-hover-shadow h-100">
            <div class="card-body">
              <div class="d-flex align-items-center">
                <i class="tio-gift tio-xl text-body mr-2"></i>
                <div class="">
                  <h5 class="card-title text-truncate mr-2">선물</h5>
                  <p class="card-title text-truncate mr-2"><span id="gift1" dataTag="number"></span>/<span id="gift2" dataTag="number"></span></p>
                </div>
              </div>
            </div>
            <a class="stretched-link"></a>
          </div>
          <!-- End Card -->
        </div>
        <!-- End Card: Burnout Point -->

        <!-- Card: Burnout Point -->
        <div class="col-sm-6 col-lg-4 mb-3 mb-lg-5">
          <!-- Card -->
          <div class="card card-sm card-hover-shadow h-100">
            <div class="card-body">
              <div class="d-flex align-items-center">
                <i class="tio-comment-text-outlined tio-xl text-body mr-2"></i>
                <div class="">
                  <h5 class="card-title text-truncate mr-2">신고</h5>
                  <p class="card-title text-truncate mr-2"><span id="report" dataTag="number"></span></p>
                </div>
              </div>
            </div>
            <a class="stretched-link"></a>
          </div>
          <!-- End Card -->
        </div>
        <!-- End Card: Burnout Point -->

      </div>
      <!-- End Card Section -->

      <div class="row gx2 gx-lg-3">
        <div class="col-lg-6">
          <!-- Card -->
          <div class="card mb-3 mb-lg-5">
            <!-- Form -->
            <form id="userInfo">
              <div class="card-header">
                <h2 class="card-title h4">기본정보</h2>
                <div class="btn-wrap">
                  <a class="btnCancel btn btn-sm btn-secondary d-none">cancel</a>
                  <a class="btnEdit btn btn-sm btn-white">Edit</a>
                  <a class="btnSave btn btn-sm btn-white d-none">Save</a>
                </div>
              </div>

              <!-- Body -->
              <div class="card-body">
                <!-- Fieldset -->
                <fieldset form="userInfo" name="userBasicInfo">
                  <legend class="d-none">회원 기본정보</legend>

                  <!-- Form Group -->
                  <div class="row form-group mb-1">
                    <span class="col-sm-3 col-form-label input-label" style="line-height:3;">아바타</span>
                    <div class="col-sm-9">
                      <!-- Avatar -->
                      <label class="avatar avatar-lg avatar-circle avatar-border-lg m-0" for="avatarUploader">
                        <img id="avatarImg" class="avatar-img" alt="Image Description" dataTag="img">

                        <input type="file" class="js-file-attach avatar-uploader-input editInput" id="avatarUploader" disabled
                        data-hs-file-attach-options='{
                          "textTarget": "#avatarImg",
                          "mode": "image",
                          "targetAttr": "src",
                          "resetTarget": ".js-file-attach-reset-img",
                          "resetImg": "@@autopath/assets/img/160x160/img1.jpg",
                          "allowTypes": [".png", ".jpeg", ".jpg"]
                        }'>

                        <span class="avatar-uploader-trigger">
                          <i class="tio-edit avatar-uploader-icon shadow-soft"></i>
                        </span>
                      </label>
                      <!-- End Avatar -->
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <span class="col-sm-3 col-form-label input-label" style="line-height:3;">아바타 배경</span>
                    <div class="col-sm-9">
                      <!-- Profile Cover -->
                      <div class="profile-cover">
                        <div class="profile-cover-img-wrapper">
                          <img id="profileCoverImg" class="profile-cover-img" alt="Image Description" dataTag="img">

                          <!-- Custom File Cover -->
                          <div class="profile-cover-content profile-cover-btn">
                            <div class="custom-file-btn">
                              <input type="file" class="js-file-attach custom-file-btn-input editInput" id="profileCoverUplaoder" disabled
                                     data-hs-file-attach-options='{
                                        "textTarget": "#profileCoverImg",
                                        "mode": "image",
                                        "targetAttr": "src",
                                        "allowTypes": [".png", ".jpeg", ".jpg"]
                                     }'>
                              <label class="custom-file-btn-label btn btn-sm btn-white d-none" for="profileCoverUplaoder">
                                <i class="tio-add-photo"></i>
                                <span class="d-none d-sm-inline-block ml-1">이미지 수정</span>
                              </label>
                            </div>
                          </div>
                          <!-- End Custom File Cover -->
                        </div>
                      </div>
                      <!-- End Profile Cover -->
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <label for="userId" class="col-sm-3 col-form-label input-label">아이디</label>

                    <div class="col-sm-9">
                      <input id="userId" type="text" class="form-control" name="user id" dataTag="input" disabled>
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <label for="userStatus" class="col-sm-3 col-form-label input-label">회원상태</label>

                    <div class="col-sm-9">
                      <!-- Select -->
                      <select id="userStatus" class="js-select2-custom editInput" dataTag="select" data-hs-select2-options='{"minimumResultsForSearch": "Infinity"}' disabled>
                        <option value="정상">정상</option>
                        <option value="정지">정지</option>
                        <option value="탈퇴">탈퇴</option>
                        <option value="휴면">휴면</option>
                      </select>
                      <!-- End Select -->
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <label for="userNickName" class="col-sm-3 col-form-label input-label">닉네임</label>

                    <div class="col-sm-9">
                      <input id="userNickName" type="text" class="form-control editInput" name="userNickName" minlength="2" maxlength="11" dataTag="input" disabled>
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <label for="userLocation" class="col-sm-3 col-form-label input-label">지역</label>

                    <div class="col-sm-9">
                      <!-- Select -->
                      <select id="userLocation" class="js-select2-custom editInput" dataTag="select" disabled>
                        <option value="11">서울특별시</option>
                        <option value="26">부산광역시</option>
                        <option value="27">대구광역시</option>
                        <option value="28">인천광역시</option>
                        <option value="29">광주광역시</option>
                        <option value="30">대전광역시</option>
                        <option value="31">울산광역시</option>
                        <option value="36">세종특별자치시</option>
                        <option value="41">경기도</option>
                        <option value="42">강원도</option>
                        <option value="43">충청북도</option>
                        <option value="44">충청남도</option>
                        <option value="45">전라북도</option>
                        <option value="46">전라남도</option>
                        <option value="47">경상북도</option>
                        <option value="48">경상남도</option>
                        <option value="50">제주특별자치도</option>
                      </select>
                      <!-- End Select -->
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <label for="userPhone" class="col-sm-3 col-form-label input-label">연락처</label>

                    <div class="col-sm-9">
                      <input id="userPhone" type="tel" class="form-control editInput" name="userPhone" dataTag="input" disabled>
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <label for="userBirth" class="col-sm-3 col-form-label input-label">생년월일</label>

                    <div class="col-sm-9">
                      <input id="userBirth" type="text" class="js-masked-input form-control editInput" name="userBirth" placeholder="xxxx/xx/xx" dataTag="input" data-hs-mask-options='{"template": "0000/00/00"}' disabled>
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <label for="userGender" class="col-sm-3 col-form-label input-label">성별</label>

                    <div class="col-sm-9">
                      <!-- Select -->
                      <select id="userGender" class="js-select2-custom editInput" dataTag="select" data-hs-select2-options='{"minimumResultsForSearch": "Infinity"}' disabled>
                        <option value="남성">남성</option>
                        <option value="여성">여성</option>
                      </select>
                      <!-- End Select -->
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <label for="userSignUpDate" class="col-sm-3 col-form-label input-label">가입일</label>

                    <div class="col-sm-9">
                      <input id="userSignUpDate" type="text" class="form-control" name="userSignUpDate" dataTag="input" disabled>
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <label for="userSignOutDate" class="col-sm-3 col-form-label input-label">탈퇴일</label>

                    <div class="col-sm-9">
                      <input id="userSignOutDate" type="text" class="form-control" name="userSignOutDate" dataTag="input" disabled>
                    </div>
                  </div>
                  <!-- End Form Group -->

                  <!-- Form Group -->
                  <div class="row form-group">
                    <label for="userOS" class="col-sm-3 col-form-label input-label">OS</label>

                    <div class="col-sm-9">
                      <input id="userOS" type="text" class="form-control" name="userOS" dataTag="input" disabled>
                    </div>
                  </div>
                  <!-- End Form Group -->
                </fieldset>
                <!-- End Fieldset -->
              </div>
              <!-- End Body -->
            </form>
            <!-- End Form -->
          </div>
          <!-- End Card -->
        </div>
        <div class="col-lg-6">
          <!-- Card -->
          <div class="card mb-3 mb-lg-5">
            <!-- Header -->
            <div class="card-header">
              <div class="row justify-content-between align-items-center flex-grow-1">
                <div class="col-sm-2 mb-3 mb-sm-0">
                  <h2 class="card-title h4" style="line-height:35px;">메모</h2>
                </div>

                <div class="col-sm-10">
                  <div class="d-sm-flex justify-content-sm-end align-items-sm-center">
                    <div class="mr-3">
                      <form id="tableFilter">
                        <!-- Search -->
                        <div class="input-group input-group-merge input-group-flush">
                          <div class="input-group-prepend">
                            <div class="input-group-text">
                              <i class="tio-search"></i>
                            </div>
                          </div>
                          <input id="datatableSearch" type="search" class="form-control" placeholder="Search text" aria-label="Search text">
                        </div>
                        <!-- End Search -->
                      </form>
                    </div>

                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-sm btn-white" data-toggle="modal" data-target="#managerNote" data-what="newAdd">
                      메모작성
                    </button>
                    <!-- End Button trigger modal -->
                  </div>
                </div>
              </div>
              <!-- End Row -->
            </div>
            <!-- End Header -->

            <!-- Table -->
            <div class="table-responsive datatable-custom">
              <table id="datatable" style="table-layout: fixed;" class="table table-lg table-borderless table-thead-bordered table-align-middle card-table table-hover">
                <thead class="thead-light">
                  <tr>
                    <th>#</th>
                    <th>내용</th>
                    <th>관리자</th>
                    <th>작성일</th>
                  </tr>
                </thead>
              </table>
            </div>
            <!-- End Table -->

            <!-- Footer -->
            <div class="card-footer">
              <!-- Pagination -->
              <div class="row justify-content-center justify-content-sm-between align-items-sm-center">
                <div class="col-sm mb-2 mb-sm-0">
                  <div class="d-flex justify-content-center justify-content-sm-start align-items-center">
                    <span class="mr-2">Showing:</span>

                    <!-- Select -->
                    <select id="datatableEntries" class="js-select2-custom"
                            data-hs-select2-options='{
                                "minimumResultsForSearch": "Infinity",
                                "customClass": "custom-select custom-select-sm custom-select-borderless",
                                "dropdownAutoWidth": true,
                                "width": true
                            }'>
                      <option value="10">10</option>
                      <option value="15" selected>15</option>
                      <option value="20">20</option>
                    </select>
                    <!-- End Select -->

                    <span class="text-secondary mr-2">of</span>

                    <!-- Pagination Quantity -->
                    <span id="datatableWithPaginationInfoTotalQty"></span>
                  </div>
                </div>

                <div class="col-sm-auto">
                  <div class="d-flex justify-content-center justify-content-sm-end">
                    <!-- Pagination -->
                    <nav id="datatablePagination" aria-label="Activity pagination"></nav>
                  </div>
                </div>
              </div>
              <!-- End Pagination -->
            </div>
            <!-- End Footer -->
          </div>
          <!-- End Card -->
        </div>
      </div>

    </div>
    <!-- End Content -->
  </main>
  <!-- ========== END CONTENTS ========== -->

  @@include("@@autopath/inculde/global.html")
  @@include("@@autopath/inculde/vendor.html")
  @@include("@@autopath/inculde/theme.html")
  @@include("@@autopath/inculde/common-plugin-script.html")

  <!-- ========== SCRIPT ========== -->
  <script type="text/javascript">
  let sessionId = 'lkfjalsdkfjak210502235959',
      managerId = 'scrich',
      managerName = '김진혁',
      userId = getParameterByName('userId'),
      tableNumbering = true,
      tableFilter = false,
      tableDateFilter = false,
      tableSearch = true,
      tableExport = false,
      tableData = [
        {
          "no" : "",
          "contents" : "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
          "adminName" : "김진혁",
          "addDate" : "2020/11/02"
        }
      ],
      userData = {
        'userId': 'scrich@scrich.com',
        'userStatus': '휴면',
        'userNickName': '스크리치',
        'userLocation': 11,
        'userPhone': '01037626202',
        'userBirth': '2020/11/12',
        'userGender': '남성',
        'userSignUpDate': '2020/11/12 23:59:59',
        'userSignOutDate': '2020/11/12 23:59:59',
        'userOS': 'aos 1.10.1',
        'point1': 50000,
        'point2': 78000,
        'shopping1': 50000,
        'shopping2': 78000,
        'campaign1': 50000,
        'campaign2': 78000,
        'product1': 50000,
        'product2': 78000,
        'gift1': 50000,
        'gift2': 78000,
        'report': 78000,
        'avatarImg': '@@autopath/assets/img/160x160/img6.jpg',
        'profileCoverImg': '@@autopath/assets/img/1920x400/img2.jpg'
      },
      userInfo = new Data(userData);

  $(function() {
    // title insert
    $('.page-title').html(`${userId}<span class="font-size-sm font-weight-light"> 님의 회원정보</span>`);

    // card section link insert
    const el = $('.stretched-link'),
          array = [
            `PGID_B1A.html?userId=${userId}`,
            `PGID_B1B.html?userId=${userId}`,
            `PGID_B1C.html?userId=${userId}`,
            `PGID_B1D.html?userId=${userId}`,
            `PGID_H8.html?searchQuery=${userInfo.obj.userId}`,
            `PGID_H9.html?searchQuery=${userInfo.obj.userId}`
          ];

    for (var i = 0; i < array.length; i++) {
      el.eq(i).attr('href',array[i]);
    }

    // user data insert
    userInfo.insert();

    // userInfo form btn
    (function retry() {
      formBtnClick('#userInfo')
      .then(function(result) {
        if (result == 'edit') {
          console.log('click edit');
          // insert code
        }
        if (result == 'cancel') {
          console.log('click cancel');
          // insert code
          $('.is-invalid, .is-valid').removeClass('is-invalid is-valid');
        }
        if (result == 'save') {
          console.log('click save');
          // insert code
        }
        return retry();
      });
    })()

  });




  $(document).on('ready', function () {
    // 회원정보 edit 모드 진입



    // user list table
    let datatable = $.HSCore.components.HSDatatables.init($('#datatable'), {
        // ajax: url input,
        data: tableData,
        columns: [
          { data: 'no' },
          { data: 'contents',
            render: function(data, type, row) {
              return `<a class="text-primary" href="javascript:;" data-toggle="modal" data-target="#managerNote" data-adminName="${row.adminName}" data-addDate="${row.addDate}">${data}`;
            }
          },
          { data: 'adminName' },
          { data: 'addDate' }
        ],
        autoWidth: false,
        columnDefs: [
          {"targets": 0, "searchable": false, "orderable": false},
          {"width": "60px", "targets": 0 },
          {"className": "td-cut-1", "targets": 1 },
          {"width": "120px", "targets": 2 },
          {"width": "120px", "targets": 3 }
        ],
        order: [1],
        info: {
          totalQty: "#datatableWithPaginationInfoTotalQty"
        },
        search: "#datatableSearch",
        entries: "#datatableEntries",
        pageLength: 15,
        isResponsive: false,
        isShowPaging: false,
        pagination: "datatablePagination"
    });

    @@include("@@autopath/inculde/commonTable.html")
  });
  </script>
  <!-- ========== END SCRIPT ========== -->

  <!-- ========== MODAL ========== -->
  @@include("@@autopath/modal/manager-note.html")
  <!-- ========== END MODAL ========== -->

@@include("@@autopath/inculde/footer.html")
</html>
